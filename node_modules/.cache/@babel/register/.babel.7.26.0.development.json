{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\",\"filename\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$47\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _mongodb = require(\"mongodb\");\nvar _db = _interopRequireDefault(require(\"../data/db\"));\n_dotenv[\"default\"].config();\nvar app = (0, _express[\"default\"])();\n\n// Middleware to parse JSON\napp.use(_express[\"default\"].json());\nvar URL = process.env.MONGO_URL;\nvar PORT = process.env.PORT || 5000;\n_mongodb.MongoClient.connect(URL).then(function (client) {\n  console.log(\"MongoDB connected.\");\n  app.listen(PORT, function () {\n    console.log(\"Listening on port: \".concat(PORT));\n  });\n  var db = client.db('db_edushop');\n  var lessons = db.collection('lessons');\n  var orders = db.collection('orders');\n  app.use((0, _cors[\"default\"])());\n  app.use(_express[\"default\"].json());\n\n  // for creating multiple lessons\n  app.post('/api/lessons', function (req, res) {\n    lessons.insertMany(req.body).then(function (result) {\n      res.status(201).json({\n        message: \"successful\",\n        result: result\n      });\n    })[\"catch\"](function (err) {\n      res.status(500).json({\n        err: err.message,\n        success: false\n      });\n    });\n  });\n\n  // PUT route to update any attribute of a lesson\n  app.put('/api/lessons/:id', /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n      var id, update, objectId;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            id = req.params.id;\n            update = req.body; // Assumes a JSON object with the fields to update\n            // Correctly create ObjectId with 'new'\n            objectId = new _mongodb.ObjectId(id);\n            _context.next = 5;\n            return lessons.updateOne({\n              _id: objectId\n            }, {\n              $set: update\n            });\n          case 5:\n            res.json({\n              message: 'Lesson updated successfully'\n            });\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  // for fetching all lessons\n  app.get('/api/lessons', function (req, res) {\n    lessons.find({}).toArray({}).then(function (results) {\n      res.status(201).json({\n        message: \"successful\",\n        results: results\n      });\n    })[\"catch\"](function (err) {\n      res.status(500).json({\n        err: err.message,\n        success: false\n      });\n    });\n  });\n\n  // POST route to create a new order\n  app.post('/api/orders', /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n      var db, _req$body, name, phone, lessonIDs, spaces, order;\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return (0, _db[\"default\"])();\n          case 2:\n            db = _context2.sent;\n            _req$body = req.body, name = _req$body.name, phone = _req$body.phone, lessonIDs = _req$body.lessonIDs, spaces = _req$body.spaces;\n            if (!(!name || !phone || !lessonIDs || !spaces)) {\n              _context2.next = 6;\n              break;\n            }\n            return _context2.abrupt(\"return\", res.status(400).json({\n              message: 'All fields are required.'\n            }));\n          case 6:\n            order = {\n              name: name,\n              phone: phone,\n              lessonIDs: lessonIDs,\n              // Array of lesson IDs\n              spaces: spaces,\n              // Number of spaces booked\n              date: new Date()\n            }; // Save order to the database\n            _context2.next = 9;\n            return orders.insertOne(order);\n          case 9:\n            res.json({\n              message: 'Order created successfully',\n              order: order\n            });\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n\n  // GET route to fetch all orders\n  app.get('/orders', /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n      var orders;\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return db.collection('orders').find().toArray();\n          case 2:\n            orders = _context3.sent;\n            res.json(orders);\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n})[\"catch\"](function (err) {\n  console.log(\"error: \".concat(err.message));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfZG90ZW52IiwiX21vbmdvZGIiLCJfZGIiLCJkb3RlbnYiLCJjb25maWciLCJhcHAiLCJleHByZXNzIiwidXNlIiwianNvbiIsIlVSTCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT19VUkwiLCJQT1JUIiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwidGhlbiIsImNsaWVudCIsImNvbnNvbGUiLCJsb2ciLCJsaXN0ZW4iLCJjb25jYXQiLCJkYiIsImxlc3NvbnMiLCJjb2xsZWN0aW9uIiwib3JkZXJzIiwiY29ycyIsInBvc3QiLCJyZXEiLCJyZXMiLCJpbnNlcnRNYW55IiwiYm9keSIsInJlc3VsdCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJlcnIiLCJzdWNjZXNzIiwicHV0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwiaWQiLCJ1cGRhdGUiLCJvYmplY3RJZCIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJwYXJhbXMiLCJPYmplY3RJZCIsInVwZGF0ZU9uZSIsIl9pZCIsIiRzZXQiLCJzdG9wIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImdldCIsImZpbmQiLCJ0b0FycmF5IiwicmVzdWx0cyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJfcmVxJGJvZHkiLCJuYW1lIiwicGhvbmUiLCJsZXNzb25JRHMiLCJzcGFjZXMiLCJvcmRlciIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsImNvbm5lY3REQiIsInNlbnQiLCJhYnJ1cHQiLCJkYXRlIiwiRGF0ZSIsImluc2VydE9uZSIsIl94MyIsIl94NCIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcYmxhY2tyb3NlbWlrZVxcRGVza3RvcFxccHJvamVjdHNcXFZ1ZXNcXGJhY2tlbmQtZWR1LXNob3BcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCB7IE1vbmdvQ2xpZW50LCBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xyXG5pbXBvcnQgY29ubmVjdERCIGZyb20gJy4uL2RhdGEvZGInXHJcblxyXG5kb3RlbnYuY29uZmlnKClcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gTWlkZGxld2FyZSB0byBwYXJzZSBKU09OXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuY29uc3QgVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMXHJcbmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDA7XHJcblxyXG5cclxuTW9uZ29DbGllbnQuY29ubmVjdChVUkwpXHJcbi50aGVuKFxyXG4gICAgY2xpZW50PT57XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJNb25nb0RCIGNvbm5lY3RlZC5cIik7XHJcbiAgICAgICAgYXBwLmxpc3RlbihQT1JULCAoKT0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYExpc3RlbmluZyBvbiBwb3J0OiAke1BPUlR9YClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ2RiX2VkdXNob3AnKTtcclxuICAgICAgICBjb25zdCBsZXNzb25zID0gZGIuY29sbGVjdGlvbignbGVzc29ucycpO1xyXG4gICAgICAgIGNvbnN0IG9yZGVycyA9IGRiLmNvbGxlY3Rpb24oJ29yZGVycycpO1xyXG5cclxuICAgICAgICBhcHAudXNlKGNvcnMoKSk7XHJcbiAgICAgICAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcblxyXG4gICAgICAgIC8vIGZvciBjcmVhdGluZyBtdWx0aXBsZSBsZXNzb25zXHJcbiAgICAgICAgYXBwLnBvc3QoJy9hcGkvbGVzc29ucycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICBsZXNzb25zLmluc2VydE1hbnkocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PntcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NmdWxcIixcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT57XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiBlcnIubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUFVUIHJvdXRlIHRvIHVwZGF0ZSBhbnkgYXR0cmlidXRlIG9mIGEgbGVzc29uXHJcbiAgICAgICAgYXBwLnB1dCgnL2FwaS9sZXNzb25zLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGUgPSByZXEuYm9keTsgLy8gQXNzdW1lcyBhIEpTT04gb2JqZWN0IHdpdGggdGhlIGZpZWxkcyB0byB1cGRhdGVcclxuXHJcbiAgICAgICAgICAgIC8vIENvcnJlY3RseSBjcmVhdGUgT2JqZWN0SWQgd2l0aCAnbmV3J1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3RJZCA9IG5ldyBPYmplY3RJZChpZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGF3YWl0IGxlc3NvbnMudXBkYXRlT25lKHsgX2lkOiBvYmplY3RJZCB9LCB7ICRzZXQ6IHVwZGF0ZSB9KTtcclxuICAgICAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnTGVzc29uIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZm9yIGZldGNoaW5nIGFsbCBsZXNzb25zXHJcbiAgICAgICAgYXBwLmdldCgnL2FwaS9sZXNzb25zJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGxlc3NvbnMuZmluZCh7fSlcclxuICAgICAgICAgICAgLnRvQXJyYXkoe30pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdHMgPT57XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJzdWNjZXNzZnVsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PntcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IGVyci5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUE9TVCByb3V0ZSB0byBjcmVhdGUgYSBuZXcgb3JkZXJcclxuICAgICAgICBhcHAucG9zdCgnL2FwaS9vcmRlcnMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBjb25uZWN0REIoKTtcclxuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBwaG9uZSwgbGVzc29uSURzLCBzcGFjZXMgfSA9IHJlcS5ib2R5O1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIW5hbWUgfHwgIXBob25lIHx8ICFsZXNzb25JRHMgfHwgIXNwYWNlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQuJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBwaG9uZSxcclxuICAgICAgICAgICAgICAgIGxlc3NvbklEcywgLy8gQXJyYXkgb2YgbGVzc29uIElEc1xyXG4gICAgICAgICAgICAgICAgc3BhY2VzLCAvLyBOdW1iZXIgb2Ygc3BhY2VzIGJvb2tlZFxyXG4gICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2F2ZSBvcmRlciB0byB0aGUgZGF0YWJhc2VcclxuICAgICAgICAgICAgYXdhaXQgb3JkZXJzLmluc2VydE9uZShvcmRlcik7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ09yZGVyIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jywgb3JkZXIgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdFVCByb3V0ZSB0byBmZXRjaCBhbGwgb3JkZXJzXHJcbiAgICAgICAgYXBwLmdldCgnL29yZGVycycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdvcmRlcnMnKS5maW5kKCkudG9BcnJheSgpO1xyXG4gICAgICAgICAgICByZXMuanNvbihvcmRlcnMpO1xyXG4gICAgICAgIH0pO1xyXG59KVxyXG4uY2F0Y2goZXJyID0+e1xyXG4gICAgY29uc29sZS5sb2coYGVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLEdBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBSyxrQkFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUNmLElBQU1DLEdBQUcsR0FBRyxJQUFBQyxtQkFBTyxFQUFDLENBQUM7O0FBRXJCO0FBQ0FELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxtQkFBTyxDQUFDRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBRXZCLElBQU1DLEdBQUcsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFNBQVM7QUFDakMsSUFBTUMsSUFBSSxHQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsSUFBSSxJQUFJLElBQUk7QUFHckNDLG9CQUFXLENBQUNDLE9BQU8sQ0FBQ04sR0FBRyxDQUFDLENBQ3ZCTyxJQUFJLENBQ0QsVUFBQUMsTUFBTSxFQUFFO0VBQ0pDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixDQUFDO0VBQ2pDZCxHQUFHLENBQUNlLE1BQU0sQ0FBQ1AsSUFBSSxFQUFFLFlBQUs7SUFDbEJLLE9BQU8sQ0FBQ0MsR0FBRyx1QkFBQUUsTUFBQSxDQUF1QlIsSUFBSSxDQUFFLENBQUM7RUFDN0MsQ0FBQyxDQUFDO0VBRUYsSUFBTVMsRUFBRSxHQUFHTCxNQUFNLENBQUNLLEVBQUUsQ0FBQyxZQUFZLENBQUM7RUFDbEMsSUFBTUMsT0FBTyxHQUFHRCxFQUFFLENBQUNFLFVBQVUsQ0FBQyxTQUFTLENBQUM7RUFDeEMsSUFBTUMsTUFBTSxHQUFHSCxFQUFFLENBQUNFLFVBQVUsQ0FBQyxRQUFRLENBQUM7RUFFdENuQixHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBbUIsZ0JBQUksRUFBQyxDQUFDLENBQUM7RUFDZnJCLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxtQkFBTyxDQUFDRSxJQUFJLENBQUMsQ0FBQyxDQUFDOztFQUV2QjtFQUNBSCxHQUFHLENBQUNzQixJQUFJLENBQUMsY0FBYyxFQUFFLFVBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0lBQ25DTixPQUFPLENBQUNPLFVBQVUsQ0FBQ0YsR0FBRyxDQUFDRyxJQUFJLENBQUMsQ0FDM0JmLElBQUksQ0FBQyxVQUFBZ0IsTUFBTSxFQUFHO01BQ1hILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekIsSUFBSSxDQUFDO1FBQ2pCMEIsT0FBTyxFQUFFLFlBQVk7UUFDckJGLE1BQU0sRUFBTkE7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsU0FDSSxDQUFDLFVBQUFHLEdBQUcsRUFBRztNQUNUTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pCLElBQUksQ0FBQztRQUNqQjJCLEdBQUcsRUFBRUEsR0FBRyxDQUFDRCxPQUFPO1FBQ2hCRSxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7O0VBRUY7RUFDQS9CLEdBQUcsQ0FBQ2dDLEdBQUcsQ0FBQyxrQkFBa0I7SUFBQSxJQUFBQyxJQUFBLE9BQUFDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBRSxTQUFBQyxRQUFPZCxHQUFHLEVBQUVDLEdBQUc7TUFBQSxJQUFBYyxFQUFBLEVBQUFDLE1BQUEsRUFBQUMsUUFBQTtNQUFBLE9BQUFMLFlBQUEsWUFBQU0sSUFBQSxVQUFBQyxTQUFBQyxRQUFBO1FBQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQTtZQUMvQlAsRUFBRSxHQUFLZixHQUFHLENBQUN1QixNQUFNLENBQWpCUixFQUFFO1lBQ0pDLE1BQU0sR0FBR2hCLEdBQUcsQ0FBQ0csSUFBSSxFQUFFO1lBRXpCO1lBQ01jLFFBQVEsR0FBRyxJQUFJTyxpQkFBUSxDQUFDVCxFQUFFLENBQUM7WUFBQUssUUFBQSxDQUFBRSxJQUFBO1lBQUEsT0FFM0IzQixPQUFPLENBQUM4QixTQUFTLENBQUM7Y0FBRUMsR0FBRyxFQUFFVDtZQUFTLENBQUMsRUFBRTtjQUFFVSxJQUFJLEVBQUVYO1lBQU8sQ0FBQyxDQUFDO1VBQUE7WUFDNURmLEdBQUcsQ0FBQ3JCLElBQUksQ0FBQztjQUFFMEIsT0FBTyxFQUFFO1lBQThCLENBQUMsQ0FBQztVQUFDO1VBQUE7WUFBQSxPQUFBYyxRQUFBLENBQUFRLElBQUE7UUFBQTtNQUFBLEdBQUFkLE9BQUE7SUFBQSxDQUN4RDtJQUFBLGlCQUFBZSxFQUFBLEVBQUFDLEdBQUE7TUFBQSxPQUFBcEIsSUFBQSxDQUFBcUIsS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxJQUFDOztFQUVGO0VBQ0F2RCxHQUFHLENBQUN3RCxHQUFHLENBQUMsY0FBYyxFQUFFLFVBQUNqQyxHQUFHLEVBQUVDLEdBQUcsRUFBSztJQUNsQ04sT0FBTyxDQUFDdUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ2ZDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNYL0MsSUFBSSxDQUFDLFVBQUFnRCxPQUFPLEVBQUc7TUFDWm5DLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekIsSUFBSSxDQUFDO1FBQ2pCMEIsT0FBTyxFQUFFLFlBQVk7UUFDckI4QixPQUFPLEVBQVBBO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLFNBQ0ksQ0FBQyxVQUFBN0IsR0FBRyxFQUFHO01BQ1ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekIsSUFBSSxDQUFDO1FBQ2pCMkIsR0FBRyxFQUFFQSxHQUFHLENBQUNELE9BQU87UUFDaEJFLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQzs7RUFHRjtFQUNBL0IsR0FBRyxDQUFDc0IsSUFBSSxDQUFDLGFBQWE7SUFBQSxJQUFBc0MsS0FBQSxPQUFBMUIsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFFLFNBQUF5QixTQUFPdEMsR0FBRyxFQUFFQyxHQUFHO01BQUEsSUFBQVAsRUFBQSxFQUFBNkMsU0FBQSxFQUFBQyxJQUFBLEVBQUFDLEtBQUEsRUFBQUMsU0FBQSxFQUFBQyxNQUFBLEVBQUFDLEtBQUE7TUFBQSxPQUFBaEMsWUFBQSxZQUFBTSxJQUFBLFVBQUEyQixVQUFBQyxTQUFBO1FBQUEsa0JBQUFBLFNBQUEsQ0FBQXpCLElBQUEsR0FBQXlCLFNBQUEsQ0FBQXhCLElBQUE7VUFBQTtZQUFBd0IsU0FBQSxDQUFBeEIsSUFBQTtZQUFBLE9BQ2xCLElBQUF5QixjQUFTLEVBQUMsQ0FBQztVQUFBO1lBQXRCckQsRUFBRSxHQUFBb0QsU0FBQSxDQUFBRSxJQUFBO1lBQUFULFNBQUEsR0FDbUN2QyxHQUFHLENBQUNHLElBQUksRUFBM0NxQyxJQUFJLEdBQUFELFNBQUEsQ0FBSkMsSUFBSSxFQUFFQyxLQUFLLEdBQUFGLFNBQUEsQ0FBTEUsS0FBSyxFQUFFQyxTQUFTLEdBQUFILFNBQUEsQ0FBVEcsU0FBUyxFQUFFQyxNQUFNLEdBQUFKLFNBQUEsQ0FBTkksTUFBTTtZQUFBLE1BRWxDLENBQUNILElBQUksSUFBSSxDQUFDQyxLQUFLLElBQUksQ0FBQ0MsU0FBUyxJQUFJLENBQUNDLE1BQU07Y0FBQUcsU0FBQSxDQUFBeEIsSUFBQTtjQUFBO1lBQUE7WUFBQSxPQUFBd0IsU0FBQSxDQUFBRyxNQUFBLFdBQ3JDaEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QixJQUFJLENBQUM7Y0FBRTBCLE9BQU8sRUFBRTtZQUEyQixDQUFDLENBQUM7VUFBQTtZQUc5RHNDLEtBQUssR0FBRztjQUNWSixJQUFJLEVBQUpBLElBQUk7Y0FDSkMsS0FBSyxFQUFMQSxLQUFLO2NBQ0xDLFNBQVMsRUFBVEEsU0FBUztjQUFFO2NBQ1hDLE1BQU0sRUFBTkEsTUFBTTtjQUFFO2NBQ1JPLElBQUksRUFBRSxJQUFJQyxJQUFJLENBQUM7WUFDbkIsQ0FBQyxFQUVEO1lBQUFMLFNBQUEsQ0FBQXhCLElBQUE7WUFBQSxPQUNNekIsTUFBTSxDQUFDdUQsU0FBUyxDQUFDUixLQUFLLENBQUM7VUFBQTtZQUM3QjNDLEdBQUcsQ0FBQ3JCLElBQUksQ0FBQztjQUFFMEIsT0FBTyxFQUFFLDRCQUE0QjtjQUFFc0MsS0FBSyxFQUFMQTtZQUFNLENBQUMsQ0FBQztVQUFDO1VBQUE7WUFBQSxPQUFBRSxTQUFBLENBQUFsQixJQUFBO1FBQUE7TUFBQSxHQUFBVSxRQUFBO0lBQUEsQ0FDOUQ7SUFBQSxpQkFBQWUsR0FBQSxFQUFBQyxHQUFBO01BQUEsT0FBQWpCLEtBQUEsQ0FBQU4sS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxJQUFDOztFQUVGO0VBQ0F2RCxHQUFHLENBQUN3RCxHQUFHLENBQUMsU0FBUztJQUFBLElBQUFzQixLQUFBLE9BQUE1QyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUUsU0FBQTJDLFNBQU94RCxHQUFHLEVBQUVDLEdBQUc7TUFBQSxJQUFBSixNQUFBO01BQUEsT0FBQWUsWUFBQSxZQUFBTSxJQUFBLFVBQUF1QyxVQUFBQyxTQUFBO1FBQUEsa0JBQUFBLFNBQUEsQ0FBQXJDLElBQUEsR0FBQXFDLFNBQUEsQ0FBQXBDLElBQUE7VUFBQTtZQUFBb0MsU0FBQSxDQUFBcEMsSUFBQTtZQUFBLE9BQ1Q1QixFQUFFLENBQUNFLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQ3NDLElBQUksQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyxDQUFDO1VBQUE7WUFBdkR0QyxNQUFNLEdBQUE2RCxTQUFBLENBQUFWLElBQUE7WUFDWi9DLEdBQUcsQ0FBQ3JCLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQztVQUFDO1VBQUE7WUFBQSxPQUFBNkQsU0FBQSxDQUFBOUIsSUFBQTtRQUFBO01BQUEsR0FBQTRCLFFBQUE7SUFBQSxDQUNwQjtJQUFBLGlCQUFBRyxHQUFBLEVBQUFDLEdBQUE7TUFBQSxPQUFBTCxLQUFBLENBQUF4QixLQUFBLE9BQUFDLFNBQUE7SUFBQTtFQUFBLElBQUM7QUFDVixDQUFDLENBQUMsU0FDSSxDQUFDLFVBQUF6QixHQUFHLEVBQUc7RUFDVGpCLE9BQU8sQ0FBQ0MsR0FBRyxXQUFBRSxNQUFBLENBQVdjLEdBQUcsQ0FBQ0QsT0FBTyxDQUFFLENBQUM7QUFDeEMsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_dotenv","_mongodb","_db","dotenv","config","app","express","use","json","URL","process","env","MONGO_URL","PORT","MongoClient","connect","then","client","console","log","listen","concat","db","lessons","collection","orders","cors","post","req","res","insertMany","body","result","status","message","err","success","put","_ref","_asyncToGenerator2","_regenerator","mark","_callee","id","update","objectId","wrap","_callee$","_context","prev","next","params","ObjectId","updateOne","_id","$set","stop","_x","_x2","apply","arguments","get","find","toArray","results","_ref2","_callee2","_req$body","name","phone","lessonIDs","spaces","order","_callee2$","_context2","connectDB","sent","abrupt","date","Date","insertOne","_x3","_x4","_ref3","_callee3","_callee3$","_context3","_x5","_x6"],"sourceRoot":"C:\\Users\\blackrosemike\\Desktop\\projects\\Vues\\backend-edu-shop\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport cors from 'cors';\r\nimport dotenv from 'dotenv';\r\nimport { MongoClient, ObjectId } from 'mongodb';\r\nimport connectDB from '../data/db'\r\n\r\ndotenv.config()\r\nconst app = express();\r\n\r\n// Middleware to parse JSON\r\napp.use(express.json());\r\n\r\nconst URL = process.env.MONGO_URL\r\nconst PORT = process.env.PORT || 5000;\r\n\r\n\r\nMongoClient.connect(URL)\r\n.then(\r\n    client=>{\r\n        console.log(\"MongoDB connected.\");\r\n        app.listen(PORT, ()=> {\r\n            console.log(`Listening on port: ${PORT}`)\r\n        });\r\n\r\n        const db = client.db('db_edushop');\r\n        const lessons = db.collection('lessons');\r\n        const orders = db.collection('orders');\r\n\r\n        app.use(cors());\r\n        app.use(express.json());\r\n\r\n        // for creating multiple lessons\r\n        app.post('/api/lessons', (req, res) => {\r\n            lessons.insertMany(req.body)\r\n            .then(result =>{\r\n                res.status(201).json({\r\n                    message: \"successful\",\r\n                    result\r\n                })\r\n            })\r\n            .catch(err =>{\r\n                res.status(500).json({\r\n                    err: err.message,\r\n                    success: false\r\n                })\r\n            })\r\n        });\r\n\r\n        // PUT route to update any attribute of a lesson\r\n        app.put('/api/lessons/:id', async (req, res) => {\r\n            const { id } = req.params;\r\n            const update = req.body; // Assumes a JSON object with the fields to update\r\n\r\n            // Correctly create ObjectId with 'new'\r\n            const objectId = new ObjectId(id);\r\n        \r\n            await lessons.updateOne({ _id: objectId }, { $set: update });\r\n            res.json({ message: 'Lesson updated successfully' });\r\n        });\r\n\r\n        // for fetching all lessons\r\n        app.get('/api/lessons', (req, res) => {\r\n            lessons.find({})\r\n            .toArray({})\r\n            .then(results =>{\r\n                res.status(201).json({\r\n                    message: \"successful\",\r\n                    results\r\n                })\r\n            })\r\n            .catch(err =>{\r\n                res.status(500).json({\r\n                    err: err.message,\r\n                    success: false\r\n                })\r\n            })\r\n        });\r\n\r\n\r\n        // POST route to create a new order\r\n        app.post('/api/orders', async (req, res) => {\r\n            const db = await connectDB();\r\n            const { name, phone, lessonIDs, spaces } = req.body;\r\n        \r\n            if (!name || !phone || !lessonIDs || !spaces) {\r\n            return res.status(400).json({ message: 'All fields are required.' });\r\n            }\r\n        \r\n            const order = {\r\n                name,\r\n                phone,\r\n                lessonIDs, // Array of lesson IDs\r\n                spaces, // Number of spaces booked\r\n                date: new Date(),\r\n            };\r\n        \r\n            // Save order to the database\r\n            await orders.insertOne(order);\r\n            res.json({ message: 'Order created successfully', order });\r\n        });\r\n\r\n        // GET route to fetch all orders\r\n        app.get('/orders', async (req, res) => {\r\n            const orders = await db.collection('orders').find().toArray();\r\n            res.json(orders);\r\n        });\r\n})\r\n.catch(err =>{\r\n    console.log(`error: ${err.message}`);\r\n});\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1732795580425},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\data\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\",\"filename\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\data\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$47\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _mongodb = require(\"mongodb\");\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n_dotenv[\"default\"].config();\nvar URL = process.env.MONGO_URL;\nvar PORT = process.env.PORT || 5000;\nvar DATABASE_NAME = process.env.DATABASE_NAME;\nvar db;\nfunction connectDB() {\n  return _connectDB.apply(this, arguments);\n}\nfunction _connectDB() {\n  _connectDB = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var client;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!db) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", db);\n        case 2:\n          _context.prev = 2;\n          client = new _mongodb.MongoClient(URL);\n          _context.next = 6;\n          return client.connect();\n        case 6:\n          db = client.db(DATABASE_NAME); // Use the database name from .env\n          console.log('Connected to MongoDB');\n          return _context.abrupt(\"return\", db);\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](2);\n          console.error('Could not connect to MongoDB:', _context.t0);\n          throw _context.t0;\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 11]]);\n  }));\n  return _connectDB.apply(this, arguments);\n}\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJfZG90ZW52IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsIlVSTCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT19VUkwiLCJQT1JUIiwiREFUQUJBU0VfTkFNRSIsImRiIiwiY29ubmVjdERCIiwiX2Nvbm5lY3REQiIsImFwcGx5IiwiYXJndW1lbnRzIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJjbGllbnQiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYWJydXB0IiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsInQwIiwiZXJyb3IiLCJzdG9wIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxibGFja3Jvc2VtaWtlXFxEZXNrdG9wXFxwcm9qZWN0c1xcVnVlc1xcYmFja2VuZC1lZHUtc2hvcFxcZGF0YVxcIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01vbmdvQ2xpZW50fSBmcm9tICdtb25nb2RiJztcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpXHJcblxyXG5jb25zdCBVUkwgPSBwcm9jZXNzLmVudi5NT05HT19VUkxcclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcclxuY29uc3QgREFUQUJBU0VfTkFNRSA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX05BTUVcclxuXHJcbmxldCBkYjtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcclxuICAgIGlmIChkYikgcmV0dXJuIGRiOyAvLyBSZXVzZSB0aGUgZXhpc3RpbmcgY29ubmVjdGlvblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoVVJMKTtcclxuICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4gICAgICAgIGRiID0gY2xpZW50LmRiKERBVEFCQVNFX05BTUUpOyAvLyBVc2UgdGhlIGRhdGFiYXNlIG5hbWUgZnJvbSAuZW52XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJyk7XHJcbiAgICAgICAgcmV0dXJuIGRiO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgY29ubmVjdCB0byBNb25nb0RCOicsIGVycm9yKTtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0REI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBRUFHLGtCQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRWYsSUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsU0FBUztBQUNqQyxJQUFNQyxJQUFJLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxJQUFJLElBQUksSUFBSTtBQUNyQyxJQUFNQyxhQUFhLEdBQUdKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxhQUFhO0FBRS9DLElBQUlDLEVBQUU7QUFBQyxTQUVRQyxTQUFTQSxDQUFBO0VBQUEsT0FBQUMsVUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFGLFdBQUE7RUFBQUEsVUFBQSxPQUFBRyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQXhCLFNBQUFDLFFBQUE7SUFBQSxJQUFBQyxNQUFBO0lBQUEsT0FBQUgsWUFBQSxZQUFBSSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUEsS0FDUWQsRUFBRTtZQUFBWSxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBRyxNQUFBLFdBQVNmLEVBQUU7UUFBQTtVQUFBWSxRQUFBLENBQUFDLElBQUE7VUFFUEosTUFBTSxHQUFHLElBQUlPLG9CQUFXLENBQUN0QixHQUFHLENBQUM7VUFBQWtCLFFBQUEsQ0FBQUUsSUFBQTtVQUFBLE9BQzdCTCxNQUFNLENBQUNRLE9BQU8sQ0FBQyxDQUFDO1FBQUE7VUFDdEJqQixFQUFFLEdBQUdTLE1BQU0sQ0FBQ1QsRUFBRSxDQUFDRCxhQUFhLENBQUMsQ0FBQyxDQUFDO1VBQy9CbUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7VUFBQyxPQUFBUCxRQUFBLENBQUFHLE1BQUEsV0FDN0JmLEVBQUU7UUFBQTtVQUFBWSxRQUFBLENBQUFDLElBQUE7VUFBQUQsUUFBQSxDQUFBUSxFQUFBLEdBQUFSLFFBQUE7VUFFVE0sT0FBTyxDQUFDRyxLQUFLLENBQUMsK0JBQStCLEVBQUFULFFBQUEsQ0FBQVEsRUFBTyxDQUFDO1VBQUMsTUFBQVIsUUFBQSxDQUFBUSxFQUFBO1FBQUE7UUFBQTtVQUFBLE9BQUFSLFFBQUEsQ0FBQVUsSUFBQTtNQUFBO0lBQUEsR0FBQWQsT0FBQTtFQUFBLENBRzdEO0VBQUEsT0FBQU4sVUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUVEbUIsTUFBTSxDQUFDQyxPQUFPLEdBQUd2QixTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongodb","require","_dotenv","_interopRequireDefault","dotenv","config","URL","process","env","MONGO_URL","PORT","DATABASE_NAME","db","connectDB","_connectDB","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","client","wrap","_callee$","_context","prev","next","abrupt","MongoClient","connect","console","log","t0","error","stop","module","exports"],"sourceRoot":"C:\\Users\\blackrosemike\\Desktop\\projects\\Vues\\backend-edu-shop\\data\\","sources":["db.js"],"sourcesContent":["import {MongoClient} from 'mongodb';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config()\r\n\r\nconst URL = process.env.MONGO_URL\r\nconst PORT = process.env.PORT || 5000;\r\nconst DATABASE_NAME = process.env.DATABASE_NAME\r\n\r\nlet db;\r\n\r\nasync function connectDB() {\r\n    if (db) return db; // Reuse the existing connection\r\n    try {\r\n        const client = new MongoClient(URL);\r\n        await client.connect();\r\n        db = client.db(DATABASE_NAME); // Use the database name from .env\r\n        console.log('Connected to MongoDB');\r\n        return db;\r\n    } catch (error) {\r\n        console.error('Could not connect to MongoDB:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nmodule.exports = connectDB;\r\n\r\n"],"mappings":";;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEAG,kBAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,SAAS;AACjC,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAG,CAACE,IAAI,IAAI,IAAI;AACrC,IAAMC,aAAa,GAAGJ,OAAO,CAACC,GAAG,CAACG,aAAa;AAE/C,IAAIC,EAAE;AAAC,SAEQC,SAASA,CAAA;EAAA,OAAAC,UAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,WAAA;EAAAA,UAAA,OAAAG,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAxB,SAAAC,QAAA;IAAA,IAAAC,MAAA;IAAA,OAAAH,YAAA,YAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,KACQd,EAAE;YAAAY,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAG,MAAA,WAASf,EAAE;QAAA;UAAAY,QAAA,CAAAC,IAAA;UAEPJ,MAAM,GAAG,IAAIO,oBAAW,CAACtB,GAAG,CAAC;UAAAkB,QAAA,CAAAE,IAAA;UAAA,OAC7BL,MAAM,CAACQ,OAAO,CAAC,CAAC;QAAA;UACtBjB,EAAE,GAAGS,MAAM,CAACT,EAAE,CAACD,aAAa,CAAC,CAAC,CAAC;UAC/BmB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;UAAC,OAAAP,QAAA,CAAAG,MAAA,WAC7Bf,EAAE;QAAA;UAAAY,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;UAETM,OAAO,CAACG,KAAK,CAAC,+BAA+B,EAAAT,QAAA,CAAAQ,EAAO,CAAC;UAAC,MAAAR,QAAA,CAAAQ,EAAA;QAAA;QAAA;UAAA,OAAAR,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAd,OAAA;EAAA,CAG7D;EAAA,OAAAN,UAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAEDmB,MAAM,CAACC,OAAO,GAAGvB,SAAS","ignoreList":[]}},"mtime":1732794977578},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\data\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\",\"filename\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\data\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$47\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\blackrosemike\\\\Desktop\\\\projects\\\\Vues\\\\backend-edu-shop\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _mongodb = require(\"mongodb\");\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n_dotenv[\"default\"].config();\nvar URL = process.env.MONGO_URL;\nvar PORT = process.env.PORT || 5000;\nvar DATABASE_NAME = process.env.DATABASE_NAME;\nvar db;\nfunction connectDB() {\n  return _connectDB.apply(this, arguments);\n}\nfunction _connectDB() {\n  _connectDB = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var client;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!db) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", db);\n        case 2:\n          _context.prev = 2;\n          client = new _mongodb.MongoClient(URL);\n          _context.next = 6;\n          return client.connect();\n        case 6:\n          db = client.db(DATABASE_NAME); // Use the database name from .env\n          console.log('Connected to MongoDB');\n          return _context.abrupt(\"return\", db);\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](2);\n          console.error('Could not connect to MongoDB:', _context.t0);\n          throw _context.t0;\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 11]]);\n  }));\n  return _connectDB.apply(this, arguments);\n}\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJfZG90ZW52IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsIlVSTCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT19VUkwiLCJQT1JUIiwiREFUQUJBU0VfTkFNRSIsImRiIiwiY29ubmVjdERCIiwiX2Nvbm5lY3REQiIsImFwcGx5IiwiYXJndW1lbnRzIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJjbGllbnQiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYWJydXB0IiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsInQwIiwiZXJyb3IiLCJzdG9wIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxibGFja3Jvc2VtaWtlXFxEZXNrdG9wXFxwcm9qZWN0c1xcVnVlc1xcYmFja2VuZC1lZHUtc2hvcFxcZGF0YVxcIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01vbmdvQ2xpZW50fSBmcm9tICdtb25nb2RiJztcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpXHJcblxyXG5jb25zdCBVUkwgPSBwcm9jZXNzLmVudi5NT05HT19VUkxcclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcclxuY29uc3QgREFUQUJBU0VfTkFNRSA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX05BTUVcclxuXHJcbmxldCBkYjtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcclxuICAgIGlmIChkYikgcmV0dXJuIGRiOyAvLyBSZXVzZSB0aGUgZXhpc3RpbmcgY29ubmVjdGlvblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoVVJMKTtcclxuICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4gICAgICAgIGRiID0gY2xpZW50LmRiKERBVEFCQVNFX05BTUUpOyAvLyBVc2UgdGhlIGRhdGFiYXNlIG5hbWUgZnJvbSAuZW52XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJyk7XHJcbiAgICAgICAgcmV0dXJuIGRiO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgY29ubmVjdCB0byBNb25nb0RCOicsIGVycm9yKTtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0REI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBRUFHLGtCQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRWYsSUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsU0FBUztBQUNqQyxJQUFNQyxJQUFJLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxJQUFJLElBQUksSUFBSTtBQUNyQyxJQUFNQyxhQUFhLEdBQUdKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxhQUFhO0FBRS9DLElBQUlDLEVBQUU7QUFBQyxTQUVRQyxTQUFTQSxDQUFBO0VBQUEsT0FBQUMsVUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFGLFdBQUE7RUFBQUEsVUFBQSxPQUFBRyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQXhCLFNBQUFDLFFBQUE7SUFBQSxJQUFBQyxNQUFBO0lBQUEsT0FBQUgsWUFBQSxZQUFBSSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUEsS0FDUWQsRUFBRTtZQUFBWSxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBRyxNQUFBLFdBQVNmLEVBQUU7UUFBQTtVQUFBWSxRQUFBLENBQUFDLElBQUE7VUFFUEosTUFBTSxHQUFHLElBQUlPLG9CQUFXLENBQUN0QixHQUFHLENBQUM7VUFBQWtCLFFBQUEsQ0FBQUUsSUFBQTtVQUFBLE9BQzdCTCxNQUFNLENBQUNRLE9BQU8sQ0FBQyxDQUFDO1FBQUE7VUFDdEJqQixFQUFFLEdBQUdTLE1BQU0sQ0FBQ1QsRUFBRSxDQUFDRCxhQUFhLENBQUMsQ0FBQyxDQUFDO1VBQy9CbUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7VUFBQyxPQUFBUCxRQUFBLENBQUFHLE1BQUEsV0FDN0JmLEVBQUU7UUFBQTtVQUFBWSxRQUFBLENBQUFDLElBQUE7VUFBQUQsUUFBQSxDQUFBUSxFQUFBLEdBQUFSLFFBQUE7VUFFVE0sT0FBTyxDQUFDRyxLQUFLLENBQUMsK0JBQStCLEVBQUFULFFBQUEsQ0FBQVEsRUFBTyxDQUFDO1VBQUMsTUFBQVIsUUFBQSxDQUFBUSxFQUFBO1FBQUE7UUFBQTtVQUFBLE9BQUFSLFFBQUEsQ0FBQVUsSUFBQTtNQUFBO0lBQUEsR0FBQWQsT0FBQTtFQUFBLENBRzdEO0VBQUEsT0FBQU4sVUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUVEbUIsTUFBTSxDQUFDQyxPQUFPLEdBQUd2QixTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongodb","require","_dotenv","_interopRequireDefault","dotenv","config","URL","process","env","MONGO_URL","PORT","DATABASE_NAME","db","connectDB","_connectDB","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","client","wrap","_callee$","_context","prev","next","abrupt","MongoClient","connect","console","log","t0","error","stop","module","exports"],"sourceRoot":"C:\\Users\\blackrosemike\\Desktop\\projects\\Vues\\backend-edu-shop\\data\\","sources":["db.js"],"sourcesContent":["import {MongoClient} from 'mongodb';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config()\r\n\r\nconst URL = process.env.MONGO_URL\r\nconst PORT = process.env.PORT || 5000;\r\nconst DATABASE_NAME = process.env.DATABASE_NAME\r\n\r\nlet db;\r\n\r\nasync function connectDB() {\r\n    if (db) return db; // Reuse the existing connection\r\n    try {\r\n        const client = new MongoClient(URL);\r\n        await client.connect();\r\n        db = client.db(DATABASE_NAME); // Use the database name from .env\r\n        console.log('Connected to MongoDB');\r\n        return db;\r\n    } catch (error) {\r\n        console.error('Could not connect to MongoDB:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nmodule.exports = connectDB;\r\n\r\n"],"mappings":";;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEAG,kBAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,SAAS;AACjC,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAG,CAACE,IAAI,IAAI,IAAI;AACrC,IAAMC,aAAa,GAAGJ,OAAO,CAACC,GAAG,CAACG,aAAa;AAE/C,IAAIC,EAAE;AAAC,SAEQC,SAASA,CAAA;EAAA,OAAAC,UAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,WAAA;EAAAA,UAAA,OAAAG,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAxB,SAAAC,QAAA;IAAA,IAAAC,MAAA;IAAA,OAAAH,YAAA,YAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,KACQd,EAAE;YAAAY,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAG,MAAA,WAASf,EAAE;QAAA;UAAAY,QAAA,CAAAC,IAAA;UAEPJ,MAAM,GAAG,IAAIO,oBAAW,CAACtB,GAAG,CAAC;UAAAkB,QAAA,CAAAE,IAAA;UAAA,OAC7BL,MAAM,CAACQ,OAAO,CAAC,CAAC;QAAA;UACtBjB,EAAE,GAAGS,MAAM,CAACT,EAAE,CAACD,aAAa,CAAC,CAAC,CAAC;UAC/BmB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;UAAC,OAAAP,QAAA,CAAAG,MAAA,WAC7Bf,EAAE;QAAA;UAAAY,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;UAETM,OAAO,CAACG,KAAK,CAAC,+BAA+B,EAAAT,QAAA,CAAAQ,EAAO,CAAC;UAAC,MAAAR,QAAA,CAAAQ,EAAA;QAAA;QAAA;UAAA,OAAAR,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAd,OAAA;EAAA,CAG7D;EAAA,OAAAN,UAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAEDmB,MAAM,CAACC,OAAO,GAAGvB,SAAS","ignoreList":[]}},"mtime":1732794977578}}